## @knitr isocow
# ======================================
#      Project: COW Codes
#      Casey Crisman-Cox
#      Useful Functions
#      ISO_to_COW.R
# ======================================

##ORIGINAL ISO TO COW CODE.DO credits are given at the end
##Modified by Casey Crisman-Cox for R, 16 June 2012
##NOTES: If  country==
##        Yemen and both YAR and YPR exist then it defaults to YAR
##        Germany and both GFR and GDR exist defaults to GFR
##        Vietnam and both DRV and RVN exist then defaults to RVN
##        Only use this file for post 1945
iso.to.cow<-function(country, year, data){
ccode<- vector(length=length(country))
	if(class(country)=="factor"){
	cctry<-as.character(country)
	ccode<-cbind.data.frame(cctry, ccode, stringsAsFactors=FALSE)}else{
	ccode<-cbind.data.frame(country, ccode, stringsAsFactors=FALSE)
	colnames(ccode)[1]<-"cctry"
	}

  2 -> ccode$ccode[ccode$cctry=="USA"]
  20 -> ccode$ccode[ccode$cctry=="CAN"]
  31 -> ccode$ccode[ccode$cctry=="BHS"]
  40 -> ccode$ccode[ccode$cctry=="CUB"]
  41 -> ccode$ccode[ccode$cctry=="HTI"]
  42 -> ccode$ccode[ccode$cctry=="DOM"]
  51 -> ccode$ccode[ccode$cctry=="JAM"]
  52 -> ccode$ccode[ccode$cctry=="TTO"]
  53 -> ccode$ccode[ccode$cctry=="BRB"]
  54 -> ccode$ccode[ccode$cctry=="DMA"]
  55 -> ccode$ccode[ccode$cctry=="GRD"]
  56 -> ccode$ccode[ccode$cctry=="LCA"]
  57 -> ccode$ccode[ccode$cctry=="VCT"]
  58 -> ccode$ccode[ccode$cctry=="ATG"]
  60 -> ccode$ccode[ccode$cctry=="KNA"]
  70 -> ccode$ccode[ccode$cctry=="MEX"]
  80 -> ccode$ccode[ccode$cctry=="BLZ"]
  90 -> ccode$ccode[ccode$cctry=="GTM"]
  91 -> ccode$ccode[ccode$cctry=="HND"]
  92 -> ccode$ccode[ccode$cctry=="SLV"]
  93 -> ccode$ccode[ccode$cctry=="NIC"]
  94 -> ccode$ccode[ccode$cctry=="CRI"]
  95 -> ccode$ccode[ccode$cctry=="PAN"]
 100 -> ccode$ccode[ccode$cctry=="COL"]
 101 -> ccode$ccode[ccode$cctry=="VEN"]
 110 -> ccode$ccode[ccode$cctry=="GUY"]
 115 -> ccode$ccode[ccode$cctry=="SUR"]
 130 -> ccode$ccode[ccode$cctry=="ECU"]
 135 -> ccode$ccode[ccode$cctry=="PER"]
 140 -> ccode$ccode[ccode$cctry=="BRA"]
 145 -> ccode$ccode[ccode$cctry=="BOL"]
 150 -> ccode$ccode[ccode$cctry=="PRY"]
 155 -> ccode$ccode[ccode$cctry=="CHL"]
 160 -> ccode$ccode[ccode$cctry=="ARG"]
 165 -> ccode$ccode[ccode$cctry=="URY"]
 200 -> ccode$ccode[ccode$cctry=="GBR"]
 205 -> ccode$ccode[ccode$cctry=="IRL"]
 210 -> ccode$ccode[ccode$cctry=="NLD"]
 211 -> ccode$ccode[ccode$cctry=="BEL"]
 212 -> ccode$ccode[ccode$cctry=="LUX"]
 220 -> ccode$ccode[ccode$cctry=="FRA"]
 221 -> ccode$ccode[ccode$cctry=="MCO"]
 223 -> ccode$ccode[ccode$cctry=="LIE"]
 225 -> ccode$ccode[ccode$cctry=="CHE"]
 230 -> ccode$ccode[ccode$cctry=="ESP"]
 232 -> ccode$ccode[ccode$cctry=="AND"]
 235 -> ccode$ccode[ccode$cctry=="PRT"]
 255 -> ccode$ccode[ccode$cctry=="DEU" & year>=1991]
 255 -> ccode$ccode[ccode$cctry=="GER" & year>=1991]
 260 -> ccode$ccode[ccode$cctry=="DEU" & year<=1990]
 260 -> ccode$ccode[ccode$cctry=="GER" & year<=1990]
 265 -> ccode$ccode[ccode$cctry=="GDR" & year<=1990]
 290 -> ccode$ccode[ccode$cctry=="POL"]
 305 -> ccode$ccode[ccode$cctry=="AUT"]
 310 -> ccode$ccode[ccode$cctry=="HUN"]
# 315 -> ccode$ccode[ccode$cctry==""]
 316 -> ccode$ccode[ccode$cctry=="CZE"]
 317 -> ccode$ccode[ccode$cctry=="SVK"]
 325 -> ccode$ccode[ccode$cctry=="ITA"]
 331 -> ccode$ccode[ccode$cctry=="SMR"]
 338 -> ccode$ccode[ccode$cctry=="MLT"]
 339 -> ccode$ccode[ccode$cctry=="ALB"]
 343 -> ccode$ccode[ccode$cctry=="MKD" & year>=1993]
 341 -> ccode$ccode[ccode$cctry=="MNE"]
 344 -> ccode$ccode[ccode$cctry=="HRV" & year>=1992]
 345 -> ccode$ccode[ccode$cctry=="YUG"]
 345 -> ccode$ccode[ccode$cctry=="SCG"]
 345 -> ccode$ccode[ccode$cctry=="SRB"]
 346 -> ccode$ccode[ccode$cctry=="BIH" & year>=1992]
 349 -> ccode$ccode[ccode$cctry=="SVN" & year>=1992]
 350 -> ccode$ccode[ccode$cctry=="GRC"]
 352 -> ccode$ccode[ccode$cctry=="CYP"]
 355 -> ccode$ccode[ccode$cctry=="BGR"]
 359 -> ccode$ccode[ccode$cctry=="MDA"]
 360 -> ccode$ccode[ccode$cctry=="ROU"]
 360 -> ccode$ccode[ccode$cctry=="ROM"]
 365 -> ccode$ccode[ccode$cctry=="RUS"]
 366 -> ccode$ccode[ccode$cctry=="EST"]
 367 -> ccode$ccode[ccode$cctry=="LVA"]
 368 -> ccode$ccode[ccode$cctry=="LTU"]
 369 -> ccode$ccode[ccode$cctry=="UKR"]
 370 -> ccode$ccode[ccode$cctry=="BLR"]
 371 -> ccode$ccode[ccode$cctry=="ARM"]
 372 -> ccode$ccode[ccode$cctry=="GEO"]
 373 -> ccode$ccode[ccode$cctry=="AZE"]
 375 -> ccode$ccode[ccode$cctry=="FIN"]
 380 -> ccode$ccode[ccode$cctry=="SWE"]
 385 -> ccode$ccode[ccode$cctry=="NOR"]
 390 -> ccode$ccode[ccode$cctry=="DNK"]
 395 -> ccode$ccode[ccode$cctry=="ISL"]
 402 -> ccode$ccode[ccode$cctry=="CPV"]
 403 -> ccode$ccode[ccode$cctry=="STP"]
 404 -> ccode$ccode[ccode$cctry=="GNB"]
 411 -> ccode$ccode[ccode$cctry=="GNQ"]
 420 -> ccode$ccode[ccode$cctry=="GMB"]
 432 -> ccode$ccode[ccode$cctry=="MLI"]
 433 -> ccode$ccode[ccode$cctry=="SEN"]
 434 -> ccode$ccode[ccode$cctry=="BEN"]
 435 -> ccode$ccode[ccode$cctry=="MRT"]
 436 -> ccode$ccode[ccode$cctry=="NER"]
 437 -> ccode$ccode[ccode$cctry=="CIV"]
 438 -> ccode$ccode[ccode$cctry=="GIN"]
 439 -> ccode$ccode[ccode$cctry=="BFA"]
 450 -> ccode$ccode[ccode$cctry=="LBR"]
 451 -> ccode$ccode[ccode$cctry=="SLE"]
 452 -> ccode$ccode[ccode$cctry=="GHA"]
 461 -> ccode$ccode[ccode$cctry=="TGO"]
 471 -> ccode$ccode[ccode$cctry=="CMR"]
 475 -> ccode$ccode[ccode$cctry=="NGA"]
 481 -> ccode$ccode[ccode$cctry=="GAB"]
 482 -> ccode$ccode[ccode$cctry=="CAF"]
 483 -> ccode$ccode[ccode$cctry=="TCD"]
 484 -> ccode$ccode[ccode$cctry=="COG"]
 490 -> ccode$ccode[ccode$cctry=="COD"]
 490 -> ccode$ccode[ccode$cctry=="ZAR"]
 500 -> ccode$ccode[ccode$cctry=="UGA"]
 501 -> ccode$ccode[ccode$cctry=="KEN"]
 510 -> ccode$ccode[ccode$cctry=="TZA"]
# 511 -> ccode$ccode[ccode$cctry==""]
 516 -> ccode$ccode[ccode$cctry=="BDI"]
 517 -> ccode$ccode[ccode$cctry=="RWA"]
 520 -> ccode$ccode[ccode$cctry=="SOM"]
 522 -> ccode$ccode[ccode$cctry=="DJI"]
 530 -> ccode$ccode[ccode$cctry=="ETH"]
 531 -> ccode$ccode[ccode$cctry=="ERI"]
 540 -> ccode$ccode[ccode$cctry=="AGO"]
 541 -> ccode$ccode[ccode$cctry=="MOZ"]
 551 -> ccode$ccode[ccode$cctry=="ZMB"]
 552 -> ccode$ccode[ccode$cctry=="ZWE"]
 553 -> ccode$ccode[ccode$cctry=="MWI"]
 560 -> ccode$ccode[ccode$cctry=="ZAF"]
 565 -> ccode$ccode[ccode$cctry=="NAM"]
 570 -> ccode$ccode[ccode$cctry=="LSO"]
 571 -> ccode$ccode[ccode$cctry=="BWA"]
 572 -> ccode$ccode[ccode$cctry=="SWZ"]
 580 -> ccode$ccode[ccode$cctry=="MDG"]
 581 -> ccode$ccode[ccode$cctry=="COM"]
 590 -> ccode$ccode[ccode$cctry=="MUS"]
 591 -> ccode$ccode[ccode$cctry=="SYC"]
 600 -> ccode$ccode[ccode$cctry=="MAR"]
 615 -> ccode$ccode[ccode$cctry=="DZA"]
 616 -> ccode$ccode[ccode$cctry=="TUN"]
 620 -> ccode$ccode[ccode$cctry=="LBY"]
 625 -> ccode$ccode[ccode$cctry=="SDN"]
 630 -> ccode$ccode[ccode$cctry=="IRN"]
 640 -> ccode$ccode[ccode$cctry=="TUR"]
 645 -> ccode$ccode[ccode$cctry=="IRQ"]
 651 -> ccode$ccode[ccode$cctry=="EGY"]
 652 -> ccode$ccode[ccode$cctry=="SYR"]
 660 -> ccode$ccode[ccode$cctry=="LBN"]
 663 -> ccode$ccode[ccode$cctry=="JOR"]
 666 -> ccode$ccode[ccode$cctry=="ISR"]
 670 -> ccode$ccode[ccode$cctry=="SAU"]
# 678 -> ccode$ccode[ccode$cctry==""]
 679 -> ccode$ccode[ccode$cctry=="YEM"]
# 680 -> ccode$ccode[ccode$cctry==""]
 690 -> ccode$ccode[ccode$cctry=="KWT"]
 692 -> ccode$ccode[ccode$cctry=="BHR"]
 694 -> ccode$ccode[ccode$cctry=="QAT"]
 696 -> ccode$ccode[ccode$cctry=="ARE"]
 698 -> ccode$ccode[ccode$cctry=="OMN"]
 700 -> ccode$ccode[ccode$cctry=="AFG"]
 701 -> ccode$ccode[ccode$cctry=="TKM"]
 702 -> ccode$ccode[ccode$cctry=="TJK"]
 703 -> ccode$ccode[ccode$cctry=="KGZ"]
 704 -> ccode$ccode[ccode$cctry=="UZB"]
 705 -> ccode$ccode[ccode$cctry=="KAZ"]
 710 -> ccode$ccode[ccode$cctry=="CHN"]
 712 -> ccode$ccode[ccode$cctry=="MNG"]
 713 -> ccode$ccode[ccode$cctry=="TWN"]
# 730 -> ccode$ccode[ccode$cctry==""]
 731 -> ccode$ccode[ccode$cctry=="PRK"]
 732 -> ccode$ccode[ccode$cctry=="KOR"]
 740 -> ccode$ccode[ccode$cctry=="JPN"]
 750 -> ccode$ccode[ccode$cctry=="IND"]
 760 -> ccode$ccode[ccode$cctry=="BTN"]
 770 -> ccode$ccode[ccode$cctry=="PAK"]
 771 -> ccode$ccode[ccode$cctry=="BGD"]
 775 -> ccode$ccode[ccode$cctry=="MMR"]
 780 -> ccode$ccode[ccode$cctry=="LKA"]
 781 -> ccode$ccode[ccode$cctry=="MDV"]
 790 -> ccode$ccode[ccode$cctry=="NPL"]
 800 -> ccode$ccode[ccode$cctry=="THA"]
 811 -> ccode$ccode[ccode$cctry=="KHM"]
 812 -> ccode$ccode[ccode$cctry=="LAO"]
 816 -> ccode$ccode[ccode$cctry=="VNM"]
# 817 -> ccode$ccode[ccode$cctry==""]
 820 -> ccode$ccode[ccode$cctry=="MYS"]
 830 -> ccode$ccode[ccode$cctry=="SGP"]
 835 -> ccode$ccode[ccode$cctry=="BRN"]
 840 -> ccode$ccode[ccode$cctry=="PHL"]
 850 -> ccode$ccode[ccode$cctry=="IDN"]
 860 -> ccode$ccode[ccode$cctry=="TLS"]
 900 -> ccode$ccode[ccode$cctry=="AUS"]
 910 -> ccode$ccode[ccode$cctry=="PNG"]
 920 -> ccode$ccode[ccode$cctry=="NZL"]
 935 -> ccode$ccode[ccode$cctry=="VUT"]
 940 -> ccode$ccode[ccode$cctry=="SLB"]
 946 -> ccode$ccode[ccode$cctry=="KIR"]
 947 -> ccode$ccode[ccode$cctry=="TUV"]
 950 -> ccode$ccode[ccode$cctry=="FJI"]
 955 -> ccode$ccode[ccode$cctry=="TON"]
 970 -> ccode$ccode[ccode$cctry=="NRU"]
 983 -> ccode$ccode[ccode$cctry=="MHL"]
 986 -> ccode$ccode[ccode$cctry=="PLW"]
 987 -> ccode$ccode[ccode$cctry=="FSM"]
 990 -> ccode$ccode[ccode$cctry=="WSM"]
 ccode<-cbind.data.frame(ccode$ccode, data, stringsAsFactors=FALSE)
 colnames(ccode)[1]<-"ccode"
 return(ccode)

 }

#################################################################################;
#################################################################################;
#                                                                               #;
#   Andreas Beger                                                               #;
#   Florida State University                                                    #;
#   abeger@fsu.edu                                                              #;
#   18 Dec. 2006                                                                #;
#                                                                               #;
#   File:       cs ccode, ISO to COW.do                                         #;
#   Purpose:    Create a variable containing numeric COW country codes in an    #;
#               existing cross-sectional dataset with ISO country codes.        #;
#               Covers time period from 1946 to 2004.                           #;
#   Log:        cs ccode, ISO to COW.log                                        #;
#                                                                               #;
#################################################################################;
